{"attributes":{"kind":"struct","backlinks":[{"tag":"sourcefile","title":"NeuralPDE/src/rode_solve.jl","docid":"sourcefiles/NeuralPDE/src/rode_solve.jl"},{"tag":"sourcefile","title":"DiffEqNoiseProcess/src/noise_interfaces/noise_grid_interface.jl","docid":"sourcefiles/DiffEqNoiseProcess/src/noise_interfaces/noise_grid_interface.jl"},{"tag":"sourcefile","title":"DiffEqNoiseProcess/src/DiffEqNoiseProcess.jl","docid":"sourcefiles/DiffEqNoiseProcess/src/DiffEqNoiseProcess.jl"},{"tag":"sourcefile","title":"DiffEqNoiseProcess/src/noise_interfaces/common.jl","docid":"sourcefiles/DiffEqNoiseProcess/src/noise_interfaces/common.jl"},{"tag":"document","title":"Controlling Stochastic Differential Equations","docid":"DiffEqSensitivity/optimal_control/SDE_control.md"},{"tag":"sourcefile","title":"DiffEqNoiseProcess/src/pCN.jl","docid":"sourcefiles/DiffEqNoiseProcess/src/pCN.jl"},{"tag":"sourcefile","title":"DiffEqNoiseProcess/src/types.jl","docid":"sourcefiles/DiffEqNoiseProcess/src/types.jl"},{"tag":"sourcefile","title":"DiffEqSensitivity/src/interpolating_adjoint.jl","docid":"sourcefiles/DiffEqSensitivity/src/interpolating_adjoint.jl"}],"methods":[{"line":639,"file":"/Users/lorenz/.julia/packages/DiffEqNoiseProcess/iWugD/src/types.jl","method_id":"DiffEqNoiseProcess.NoiseGrid_1","symbol_id":"DiffEqNoiseProcess.NoiseGrid","filedoc":"sourcefiles/DiffEqNoiseProcess/src/types.jl","signature":"NoiseGrid(t, W)"},{"line":639,"file":"/Users/lorenz/.julia/packages/DiffEqNoiseProcess/iWugD/src/types.jl","method_id":"DiffEqNoiseProcess.NoiseGrid_2","symbol_id":"DiffEqNoiseProcess.NoiseGrid","filedoc":"sourcefiles/DiffEqNoiseProcess/src/types.jl","signature":"NoiseGrid(t, W, Z; reset)"}],"name":"NoiseGrid","title":"NoiseGrid","symbol_id":"DiffEqNoiseProcess.NoiseGrid","public":true,"module_id":"DiffEqNoiseProcess"},"tag":"documentation","children":[{"attributes":{},"tag":"md","children":[{"attributes":{},"tag":"p","children":["A noise grid builds a noise process from arrays of points. For example, you can generate your desired noise process as an array ",{"attributes":{},"tag":"code","children":["W"],"type":"node"}," with timepoints ",{"attributes":{},"tag":"code","children":["t"],"type":"node"},", and use the constructor:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/DiffEqNoiseProcess.NoiseGrid"},"tag":"reference","children":["NoiseGrid"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["t"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["W"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["Z"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["nothing"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"PARAMETERS","children":[{"attributes":{},"tag":"SEMICOLON","children":[";"],"type":"node"},{"attributes":{},"tag":"KW","children":[{"attributes":{},"tag":"IDENTIFIER","children":["reset"],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"TRUE","children":["true"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["to build the associated noise process. This process comes with a linear interpolation of the given points, and thus the grid does not have to match the grid of integration. Thus this can be used for adaptive solutions as well. However, one must make note that the fidelity of the noise process is linked to how fine the noise grid is determined: if the noise grid is sparse on points compared to the integration, then its distributional properties may be slightly perturbed by the linear interpolation. Thus its suggested that the grid size at least approximately match the number of time steps in the integration to ensure accuracy."],"type":"node"},{"attributes":{},"tag":"p","children":["For a one-dimensional process, ",{"attributes":{},"tag":"code","children":["W"],"type":"node"}," should be an ",{"attributes":{},"tag":"code","children":["AbstractVector"],"type":"node"}," of ",{"attributes":{},"tag":"code","children":["Number"],"type":"node"},"s. For multi-dimensional processes, ",{"attributes":{},"tag":"code","children":["W"],"type":"node"}," should be an ",{"attributes":{},"tag":"code","children":["AbstractVector"],"type":"node"}," of the ",{"attributes":{},"tag":"code","children":["noise_prototype"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"h2","children":["NoiseGrid"],"type":"node"},{"attributes":{},"tag":"p","children":["In this example, we will show you how to define your own version of Brownian motion using an array of pre-calculated points. In normal usage you should use ",{"attributes":{},"tag":"code","children":["WienerProcess"],"type":"node"}," instead since this will have distributionally-exact interpolations while the noise grid uses linear interpolations, but this is a nice example of the workflow."],"type":"node"},{"attributes":{},"tag":"p","children":["To define a ",{"attributes":{},"tag":"code","children":["NoiseGrid"],"type":"node"}," you need to have a set of time points and a set of values for the process. Let's define a Brownian motion on ",{"attributes":{},"tag":"code","children":["(0.0,1.0)"],"type":"node"}," with a ",{"attributes":{},"tag":"code","children":["dt=0.001"],"type":"node"},". To do this,"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["dt"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"FLOAT","children":["0.001"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["t"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["0"],"type":"node"},{"attributes":{},"tag":"COLON","children":[":"],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["dt"],"type":"node"},{"attributes":{},"tag":"COLON","children":[":"],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["brownian_values"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["cumsum"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"VCAT","children":[{"attributes":{},"tag":"LSQUARE","children":["["],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["0"],"type":"node"},{"attributes":{},"tag":"SEMICOLON","children":[";"],"type":"node"},{"attributes":{},"tag":"COMPREHENSION","children":[{"attributes":{},"tag":"LSQUARE","children":["["],"type":"node"},{"attributes":{},"tag":"GENERATOR","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["sqrt"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["dt"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"STAR","children":["*"],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["randn"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"FOR","children":["for"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["i"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IN","children":["in"],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"},{"attributes":{},"tag":"COLON","children":[":"],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["length"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["t"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"MINUS","children":["-"],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RSQUARE","children":["]"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RSQUARE","children":["]"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Now we build the ",{"attributes":{},"tag":"code","children":["NoiseGrid"],"type":"node"}," using these values:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["W"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/DiffEqNoiseProcess.NoiseGrid"},"tag":"reference","children":["NoiseGrid"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["t"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["brownian_values"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["We can then pass ",{"attributes":{},"tag":"code","children":["W"],"type":"node"}," as the ",{"attributes":{},"tag":"code","children":["noise"],"type":"node"}," argument of an ",{"attributes":{},"tag":"code","children":["SDEProblem"],"type":"node"}," to use it in an SDE."],"type":"node"}],"type":"node"}],"type":"node"}