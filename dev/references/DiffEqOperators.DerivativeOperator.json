{"attributes":{"kind":"struct","backlinks":[{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/derivative_operator_functions.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/derivative_operator_functions.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/DiffEqOperators.jl","docid":"sourcefiles/DiffEqOperators/src/DiffEqOperators.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/convolutions.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/convolutions.jl"},{"tag":"sourcefile","title":"MethodOfLines/src/discretization/differential_discretizer.jl","docid":"sourcefiles/MethodOfLines/src/discretization/differential_discretizer.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/concretization.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/concretization.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/docstrings.jl","docid":"sourcefiles/DiffEqOperators/src/docstrings.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/vector_calculus_convolutions.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/vector_calculus_convolutions.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/derivative_operator.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/derivative_operator.jl"},{"tag":"sourcefile","title":"DiffEqOperators/src/derivative_operators/abstract_operator_functions.jl","docid":"sourcefiles/DiffEqOperators/src/derivative_operators/abstract_operator_functions.jl"}],"methods":[],"name":"DerivativeOperator","title":"DerivativeOperator","symbol_id":"DiffEqOperators.DerivativeOperator","public":true,"module_id":"DiffEqOperators"},"tag":"documentation","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["DerivativeOperator{T<:Real,N,Wind,T2,S1,S2<:SVector,T3,F}(<fields>)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Represent a finite-difference derivative operator."],"type":"node"},{"attributes":{},"tag":"p","children":["These operators implement the ",{"attributes":{},"tag":"code","children":["DiffEqBase.AbstractDiffEqLinearOperator"],"type":"node"}," interface. Therefore, ",{"attributes":{},"tag":"code","children":["eltype"],"type":"node"}," returns ",{"attributes":{},"tag":"code","children":["T"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"p","children":["These operators can be contracted over an arbitrary dimension, given by the type parameter ",{"attributes":{},"tag":"code","children":["N"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"p","children":["The ",{"attributes":{},"tag":"code","children":["CentredDifference"],"type":"node"}," and ",{"attributes":{},"tag":"code","children":["UpwindDifference"],"type":"node"}," types serve as hooks to hang constructors, but no objects are actually constructed with those types. Their constructors return structures of type ",{"attributes":{},"tag":"code","children":["DerivativeOperator"],"type":"node"},", with stencils constructed by ",{"attributes":{},"tag":"code","children":["calculate_weights"],"type":"node"},", and other fields filled out appropriately."],"type":"node"},{"attributes":{},"tag":"p","children":["The finite-difference methods are defined for ",{"attributes":{},"tag":"code","children":["DerivativeOperator"],"type":"node"},". In particular, ",{"attributes":{},"tag":"code","children":["*"],"type":"node"},", which actually takes derivatives."],"type":"node"},{"attributes":{},"tag":"p","children":["The key data are three stencils of coefficients, stored in ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"},"s. The interior stencil, stored in ",{"attributes":{},"tag":"code","children":["stencil_coefs::S1"],"type":"node"},", is the normal one used in the interior of the grid. The others, ",{"attributes":{},"tag":"code","children":["low_boundary_coefs::S2"],"type":"node"}," and ",{"attributes":{},"tag":"code","children":["high_boundary_coefs::S2"],"type":"node"},", are used where the normal stencil would jut out of the grid boundary. These can have a different length than the interior stencil, hence the two types."],"type":"node"},{"attributes":{},"tag":"p","children":["When the operator is applied by ",{"attributes":{},"tag":"code","children":["mul!"],"type":"node"},", these stencils are multiplied by the vector in the ",{"attributes":{},"tag":"code","children":["coefficients"],"type":"node"}," field. It is set to ",{"attributes":{},"tag":"code","children":["coeff_func.(1:len)"],"type":"node"}," in ",{"attributes":{},"tag":"code","children":["UpwindDifference"],"type":"node"},", which seems odd, because ",{"attributes":{},"tag":"code","children":["len"],"type":"node"}," is not the stencil length. Scalar multiplication is absorbed into this vector, as required by the ",{"attributes":{},"tag":"code","children":["DiffEqBase.AbstractDiffEqLinearOperator"],"type":"node"}," interface."],"type":"node"},{"attributes":{},"tag":"p","children":["The ",{"attributes":{},"tag":"code","children":["coefficients"],"type":"node"}," field appears to be a more general ",{"attributes":{},"tag":"code","children":["DifferentialEquations"],"type":"node"}," thing. There is an ",{"attributes":{},"tag":"code","children":["update_coefficients!"],"type":"node"}," method."],"type":"node"},{"attributes":{},"tag":"p","children":["The term “left boundary” is used interchangeably with “low boundary”, and “right” with “high”."],"type":"node"},{"attributes":{},"tag":"h1","children":["Type Parameters"],"type":"node"},{"attributes":{},"tag":"p","children":["Presumably, most of these are to force method specialization on:a) the stencil lengths, which are given by the parameters of the ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"}," types ",{"attributes":{},"tag":"code","children":["S1"],"type":"node"}," and ",{"attributes":{},"tag":"code","children":["S2"],"type":"node"},", and b) even or arbitrary grid spacing."],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["T<:Real"],"type":"node"},": Function range type."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["N"],"type":"node"},": Contraction dimension."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["Wind"],"type":"node"},": Flag ",{"attributes":{},"tag":"code","children":["true"],"type":"node"}," for upwind operators, ",{"attributes":{},"tag":"code","children":["false"],"type":"node"}," for centered."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["T2"],"type":"node"},": Concrete type of ",{"attributes":{},"tag":"code","children":["dx"],"type":"node"}," field, which might be ",{"attributes":{},"tag":"code","children":["T"],"type":"node"}," or ",{"attributes":{},"tag":"code","children":["AbstractVector{T}"],"type":"node"},"."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["S1"],"type":"node"},": Concrete type of the interior stencil. (When is this not an ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"},"?)"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["S2<:SVector"],"type":"node"},": Concrete type of boundary coefficients."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["T3"],"type":"node"},": ",{"attributes":{},"tag":"code","children":["Vector{T}"],"type":"node"}," if a ",{"attributes":{},"tag":"code","children":["coeff_func"],"type":"node"}," was supplied, ",{"attributes":{},"tag":"code","children":["Nothing"],"type":"node"}," otherwise."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["F"],"type":"node"},": ",{"attributes":{},"tag":"code","children":["typeof(coeff_func)"],"type":"node"}," if a ",{"attributes":{},"tag":"code","children":["coeff_func"],"type":"node"}," was supplied, ",{"attributes":{},"tag":"code","children":["Nothing"],"type":"node"}," otherwise."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"h1","children":["Fields"],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["derivative_order::Int"],"type":"node"},": The ",{"attributes":{},"tag":"code","children":["n"],"type":"node"}," in ",{"attributes":{},"tag":"code","children":["f⁽ⁿ⁾(x)"],"type":"node"},"."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["approximation_order::Int"],"type":"node"},": The degree of polynomial for which the operator is numerically exact."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["dx::T2"],"type":"node"},": Grid step."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["len::Int"],"type":"node"},": The number of interior points on the grid."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["stencil_length::Int"],"type":"node"},": Length of the interior stencil."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["stencil_coefs::S1"],"type":"node"},": An ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"}," of the interior stencil coefficients."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["boundary_stencil_length::Int"],"type":"node"},":"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["boundary_point_count::Int"],"type":"node"},":"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["low_boundary_coefs::S2"],"type":"node"},": An array of ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"}," stencils for the interior points where ",{"attributes":{},"tag":"code","children":["stencil_coefs"],"type":"node"}," juts over the left boundary."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["high_boundary_coefs::S2"],"type":"node"},": An array of ",{"attributes":{},"tag":"code","children":["SVector"],"type":"node"}," stencils for the interior points where ",{"attributes":{},"tag":"code","children":["stencil_coefs"],"type":"node"}," juts over the right boundary."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["coefficients::T3"],"type":"node"},": Multiplier for the stencil."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["coeff_func::F"],"type":"node"},": God only knows what this function is for."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["See also: ",{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["AbstractBC"],"type":"node"}],"type":"node"},", ",{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["CenteredDifference"],"type":"node"}],"type":"node"},", ",{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["UpwindDifference"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}