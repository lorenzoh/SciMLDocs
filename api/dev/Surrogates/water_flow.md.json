{"attributes":{"backlinks":[],"path":"/Users/lorenz/.julia/packages/Surrogates/zwNvG/docs/src/water_flow.md","title":"Water flow function"},"tag":"document","children":[{"attributes":{},"tag":"md","children":[{"attributes":{},"tag":"h1","children":["Water flow function"],"type":"node"},{"attributes":{},"tag":"p","children":["The water flow function is defined as: ",{"attributes":{},"tag":"math","children":["f(r_w,r,T_u,H_u,T_l,H_l,L,K_w) = \\frac{2*\\pi*T_u(H_u - H_l)}{log(\\frac{r}{r_w})*[1 + \\frac{2LT_u}{log(\\frac{r}{r_w})*r_w^2*K_w}+ \\frac{T_u}{T_l} ]}"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["It has 8 dimension."],"type":"node"},{"attributes":{"lang":"@example water"},"tag":"codeblock","children":["using Surrogates\nusing Plots\nusing LinearAlgebra\ndefault()\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Define the objective function:"],"type":"node"},{"attributes":{"lang":"@example water"},"tag":"codeblock","children":["function f(x)\n    r_w = x[1]\n    r = x[2]\n    T_u = x[3]\n    H_u = x[4]\n    T_l = x[5]\n    H_l = x[6]\n    L = x[7]\n    K_w = x[8]\n    log_val = log(r/r_w)\n    return (2*pi*T_u*(H_u - H_l))/ ( log_val*(1 + (2*L*T_u/(log_val*r_w^2*K_w)) + T_u/T_l))\nend\n"],"type":"node"},{"attributes":{"lang":"@example water"},"tag":"codeblock","children":["n = 180\nd = 8\nlb = [0.05,100,63070,990,63.1,700,1120,9855]\nub = [0.15,50000,115600,1110,116,820,1680,12045]\nx = sample(n,lb,ub,SobolSample())\ny = f.(x)\nn_test = 1000\nx_test = sample(n_test,lb,ub,GoldenSample());\ny_true = f.(x_test);\n"],"type":"node"},{"attributes":{"lang":"@example water"},"tag":"codeblock","children":["my_rad = RadialBasis(x,y,lb,ub)\ny_rad = my_rad.(x_test)\nmy_poly = PolynomialChaosSurrogate(x,y,lb,ub)\ny_poli = my_poli.(x_test)\nmse_rad = norm(y_true - y_rad,2)/n_test\nmse_poli = norm(y_true - y_poli,2)/n_test\nprint(\"MSE Radial: $mse_rad\")\nprint(\"MSE Radial: $mse_poli\")\n"],"type":"node"}],"type":"node"}],"type":"node"}